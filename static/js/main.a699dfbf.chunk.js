(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{41:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},59:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},68:function(e,t,c){},85:function(e,t,c){"use strict";c.r(t);var n=c(4),a=c.n(n),r=c(44),i=c.n(r),s=(c(56),c(18)),o=c(14),l=c(45),j=(c(57),c(3)),d=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"loader",children:[Object(j.jsxs)("div",{className:"sk-cube-grid",children:[Object(j.jsx)("div",{className:"sk-cube sk-cube1"}),Object(j.jsx)("div",{className:"sk-cube sk-cube2"}),Object(j.jsx)("div",{className:"sk-cube sk-cube3"}),Object(j.jsx)("div",{className:"sk-cube sk-cube4"}),Object(j.jsx)("div",{className:"sk-cube sk-cube5"}),Object(j.jsx)("div",{className:"sk-cube sk-cube6"}),Object(j.jsx)("div",{className:"sk-cube sk-cube7"}),Object(j.jsx)("div",{className:"sk-cube sk-cube8"}),Object(j.jsx)("div",{className:"sk-cube sk-cube9"})]}),Object(j.jsx)("h2",{id:"TextoLoader",children:"Loading..."})]})})},b=c(13),u=(c(59),function(e){var t=e.product;return Object(j.jsx)(b.b,{to:"/detail/".concat(t.id),className:"cardTitle",children:Object(j.jsxs)("div",{className:"cardContainer",children:[Object(j.jsx)("img",{src:t.img,className:"cardImg",alt:t.name}),Object(j.jsx)("p",{children:t.name})]})})}),m=(c(64),function(e){var t=e.products,c=void 0===t?[]:t;return Object(j.jsx)("div",{className:"cardsContainer",children:c.map((function(e){return Object(j.jsx)(u,{product:e},e.id)}))})}),h=c(7),O=Object(n.createContext)(),x=function(e){var t=e.children,c=Object(n.useState)(!1),a=Object(o.a)(c,2),r=a[0],i=a[1];return Object(j.jsx)(O.Provider,{value:{loading:r,setLoading:i},children:t})},p=c(32),f=(c(38),p.a.initializeApp({apiKey:"AIzaSyBIS3E-2eH4WjjnrchjAk-y8h7vpJ4rrHI",authDomain:"skate-planet.firebaseapp.com",projectId:"skate-planet",storageBucket:"skate-planet.appspot.com",messagingSenderId:"1079654947213",appId:"1:1079654947213:web:6c30985f099cb61a1e05c4"})),g=function(){return p.a.firestore(f)},v=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useContext)(O),i=r.loading,b=r.setLoading,u=Object(h.h)().categoryId;return Object(l.useEffect)((function(){b(!0);var e=g();(u?e.collection("Productos").where("category","==",u):e.collection("Productos")).get().then((function(e){var t=e.docs.map((function(e){return Object(s.a)({id:e.id},e.data())}));a(t)})).catch((function(e){return console.log(e)})).finally((function(){b(!1)}))}),[u,b]),Object(j.jsx)("section",{children:i?Object(j.jsx)(d,{}):Object(j.jsx)(m,{products:c})})},N=(c(41),c.p+"static/media/pageLogo.f5b531be.png"),y=c(51),k=Object(n.createContext)(),C=JSON.parse(localStorage.getItem("carrito"))||[],I=function(e){var t=e.children,c=Object(n.useState)(C),a=Object(o.a)(c,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){localStorage.setItem("carrito",JSON.stringify(r))}),[r]),Object(j.jsx)(k.Provider,{value:{carrito:r,addToCart:function(e){i([].concat(Object(y.a)(r),[e]))},removeItem:function(e){var t=r.filter((function(t){return t.id!==e}));i(t)},calcularCantidad:function(){return r.reduce((function(e,t){return e+t.quantity}),0)},isInCart:function(e){return r.some((function(t){return t.id===e}))},vaciarCarrito:function(){i([])},calcularTotal:function(){return r.reduce((function(e,t){return e+t.quantity*t.price}),0)}},children:t})},S=function(){var e=Object(n.useContext)(k).calcularCantidad;return Object(j.jsxs)("div",{id:"cartWidget",style:{visibility:0===e()?"hidden":"visible"},children:[Object(j.jsx)("span",{className:"material-icons",children:"shopping_cart"}),Object(j.jsx)("span",{children:e()})]})},T=c(48),F=c(27),q=c(34),B=[{title:"Home",path:"/",icon:Object(j.jsx)(F.a,{}),cName:"nav-text"},{title:"Boards",path:"/boards",icon:Object(j.jsx)(q.b,{}),cName:"nav-text"},{title:"Apparel",path:"/apparel",icon:Object(j.jsx)(q.a,{}),cName:"nav-text"}],w=(c(65),function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],r=function(){a(!c)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"sideBar",children:Object(j.jsx)(b.b,{to:"#",className:"menu-bars",children:Object(j.jsx)(T.a,{onClick:r})})}),Object(j.jsx)("nav",{className:c?"nav-menu active":"nav-menu",children:Object(j.jsxs)("ul",{className:"nav-menu-items",onClick:r,children:[Object(j.jsx)("li",{className:"navBar-toggle",children:Object(j.jsx)(b.b,{to:"#",className:"menu-x",children:Object(j.jsx)(F.b,{})})}),B.map((function(e,t){return Object(j.jsx)("li",{className:e.cName,children:Object(j.jsxs)(b.b,{to:e.path,children:[e.icon,Object(j.jsx)("span",{children:e.title})]})},t)}))]})})]})}),P=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("nav",{className:"navBar",children:[Object(j.jsx)(w,{className:!0}),Object(j.jsx)(b.b,{to:"/",children:Object(j.jsx)("img",{src:N,alt:"Brand Logo",className:"navbar--img"})}),Object(j.jsx)(b.b,{to:"/products/cart",children:Object(j.jsx)(S,{})})]}),Object(j.jsx)("hr",{className:"hr"})]})},L=function(e){var t=e.quantity,c=e.modifyQuantity,n=e.maxStock;return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){t>0&&c(t-1)},className:"btn ".concat(0===t?"btn-danger desactivado":"btn-primary"),children:"-"}),Object(j.jsx)("span",{className:"m-2",children:t}),Object(j.jsx)("button",{onClick:function(){t<n&&c(t+1)},className:"btn ".concat(t===n?"btn-danger desactivado":"btn-primary"),children:"+"})]})},E=(c(66),function(e){var t=e.id,c=e.name,a=e.description1,r=e.description2,i=e.description3,s=e.description4,l=e.description5,d=e.price,u=e.img,m=e.category,O=e.stock,x=Object(h.g)(),p=x.goBack,f=x.push,g=Object(n.useContext)(k),v=g.addToCart,N=g.isInCart,y=Object(n.useState)(0),C=Object(o.a)(y,2),I=C[0],S=C[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"row productDetailContainer",children:[Object(j.jsx)("div",{className:"productImageDetail col-sm-12 col-md-6",children:Object(j.jsx)("img",{src:u,alt:c})}),Object(j.jsxs)("div",{className:"productDetails col-sm-12 col-md-6",children:[Object(j.jsx)("h2",{className:"name",children:c}),Object(j.jsxs)("h4",{className:"price",children:["$ ",d,".00"]}),Object(j.jsxs)("ul",{className:"descriptions",children:[a?Object(j.jsx)("li",{children:a}):"There are not descriptions added yet",r?Object(j.jsx)("li",{children:r}):"",i?Object(j.jsx)("li",{children:i}):"",s?Object(j.jsx)("li",{children:s}):"",l?Object(j.jsx)("li",{children:l}):""]}),N(t)?Object(j.jsx)(b.b,{to:"/products/cart",className:"btn btn-success",children:"Finish Shopping"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(L,{quantity:I,modifyQuantity:S,maxStock:O}),Object(j.jsx)("button",{className:"mt-3 btn ".concat(0===I?"btn-danger desactivado":"btn-primary"),onClick:function(){I>0&&v({id:t,name:c,price:d,category:m,quantity:I,img:u})},children:"Add!"})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("button",{className:"btn btn-primary",onClick:function(){return p()},children:"Go Back"}),Object(j.jsx)("button",{className:"btn btn-primary backButton",onClick:function(){return f("/")},children:"Back to Start"})]})]})})}),D=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useContext)(O),i=r.loading,l=r.setLoading,b=Object(h.h)().productId;return Object(n.useEffect)((function(){l(!0),g().collection("Productos").doc(b).get().then((function(e){a(Object(s.a)({id:e.id},e.data()))})).catch((function(e){return console.log(e)})).finally((function(){l(!1)}))}),[b,l]),Object(j.jsx)("div",{className:"container mt-5",children:i?Object(j.jsx)(d,{}):Object(j.jsx)(E,Object(s.a)({},c))})},A=(c(67),c(49)),J=(c(68),function(){var e=Object(n.useContext)(k),t=e.carrito,c=e.vaciarCarrito,a=e.removeItem,r=e.calcularTotal;return Object(j.jsx)("div",{className:"container my-5",children:0===t.length?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(h.a,{to:"/"})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Cart"}),Object(j.jsx)("hr",{}),t.map((function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row productInCartContainer",children:[Object(j.jsx)("img",{className:"img col-1",src:e.img,alt:e.name}),Object(j.jsx)("h4",{className:"col-4",children:e.name}),Object(j.jsxs)("p",{className:"col-2",children:["Quantity: ",e.quantity]}),Object(j.jsxs)("p",{className:"col-2",children:["Price: ",e.price*e.quantity]}),Object(j.jsx)("button",{className:"btn btn-danger col-2",onClick:function(){return a(e.id)},children:Object(j.jsx)(A.a,{})})]}),Object(j.jsx)("hr",{})]})})),Object(j.jsxs)("h2",{className:"total",children:["Total: $",r()]}),Object(j.jsxs)("div",{className:"eraseAndCheckoutButtons",children:[Object(j.jsx)("button",{className:"btn btn-danger my-2",onClick:c,children:"Empty Cart"}),Object(j.jsx)(b.b,{to:"/products/checkout",className:"btn btn-success mx-3",children:"Go to checkout!"})]})]})})}),Y=c(25),H=c(21),Q=c.n(H),z=c(35),G=c.n(z),W=c(50),$=c(36),K=function(){var e=Object(n.useContext)(O),t=e.loading,c=e.setLoading,a=Object(n.useContext)(k),r=a.carrito,i=a.calcularTotal,l=a.vaciarCarrito,b=Object(n.useState)({nombre:"",apellido:"",email:"",telefono:""}),u=Object(o.a)(b,2),m=u[0],x=u[1],p=function(e){x(Object(s.a)(Object(s.a)({},m),{},Object(Y.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)(j.Fragment,{children:[0===r.length&&Object(j.jsx)(h.a,{to:"/"}),t&&Object(j.jsx)(d,{}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"container my-5",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.nombre.length<1?Q.a.fire({icon:"error",title:"Invalid name",text:"You have not registered your name correctly"}):m.apellido.length<1?Q.a.fire({icon:"error",title:"Invalid last name",text:"You have not registered your last name correctly"}):m.email.length<1?Q.a.fire({icon:"error",title:"Invalid E-mail",text:"You have not registered an E-mail correctly"}):m.telefono.length<1?Q.a.fire({icon:"error",title:"Invalid Telephone",text:"You have not registered a phone correctly"}):(c(!0),function(e,t,c){return new Promise(function(){var n=Object(W.a)(G.a.mark((function n(a,r){var i,o,l,j,d,b,u;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={buyer:e,items:t.map((function(e){return{id:e.id,name:e.name,price:e.price,quantity:e.quantity}})),total:c,date:$.a.firestore.Timestamp.fromDate(new Date)},o=g(),l=o.collection("orders"),j=o.collection("Productos").where($.a.firestore.FieldPath.documentId(),"in",t.map((function(e){return e.id}))),n.next=6,j.get();case 6:d=n.sent,b=o.batch(),u=[],d.docs.forEach((function(e){var c=t.find((function(t){return t.id===e.id}));e.data().stock>=c.quantity?b.update(e.ref,{stock:e.data().stock-c.quantity}):u.push(Object(s.a)(Object(s.a)({},e.data()),{},{id:e.id}))})),0===u.length?l.add(i).then((function(e){b.commit(),a(e.id)})):r(u);case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}(m,r,i()).then((function(e){Q.a.fire({icon:"success",title:"Registered order",text:"Voucher: ".concat(e),willClose:function(){l()}})})).catch((function(e){Q.a.fire({icon:"error",title:"Products without stock",text:"There isn't stock of: ".concat(e.map((function(e){return e.name})).join(", "))})})).finally((function(){c(!1)})))},autocomplete:"off",children:[Object(j.jsx)("h3",{children:"Personal information"}),Object(j.jsx)("input",{className:"form-control my-2",type:"text",placeholder:"Name",name:"nombre",value:m.nombre,onChange:p}),0===m.nombre.length&&Object(j.jsx)("small",{children:"This field is required"}),Object(j.jsx)("input",{className:"form-control my-2",type:"text",placeholder:"Last Name",name:"apellido",value:m.apellido,onChange:p}),0===m.apellido.length&&Object(j.jsx)("small",{children:"This field is required"}),Object(j.jsx)("input",{className:"form-control my-2",type:"tel",placeholder:"Telephone",name:"telefono",value:m.telefono,onChange:p}),0===m.telefono.length&&Object(j.jsx)("small",{children:"This field is required"}),Object(j.jsx)("input",{className:"form-control my-2",type:"email",placeholder:"Email",name:"email",value:m.email,onChange:p}),0===m.email.length&&Object(j.jsx)("small",{children:"This field is required"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{className:"btn btn-success",type:"submit",disabled:t,children:"Checkout!"})]})})})]})};var M=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(x,{children:Object(j.jsx)(I,{children:Object(j.jsxs)(b.a,{children:[Object(j.jsx)(P,{}),Object(j.jsxs)(h.d,{children:[Object(j.jsx)(h.b,{exact:!0,path:"/",children:Object(j.jsx)(v,{})}),Object(j.jsx)(h.b,{exact:!0,path:"/:categoryId",children:Object(j.jsx)(v,{})}),Object(j.jsx)(h.b,{exact:!0,path:"/detail/:productId",children:Object(j.jsx)(D,{})}),Object(j.jsx)(h.b,{exact:!0,path:"/products/cart",children:Object(j.jsx)(J,{})}),Object(j.jsx)(h.b,{exact:!0,path:"/products/checkout",children:Object(j.jsx)(K,{})}),Object(j.jsx)(h.b,{children:Object(j.jsx)(h.a,{to:"/"})}),Object(j.jsx)(h.b,{path:"*",children:Object(j.jsx)(h.a,{to:"/products"})})]})]})})})})},R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,86)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(M,{})}),document.getElementById("root")),R()}},[[85,1,2]]]);
//# sourceMappingURL=main.a699dfbf.chunk.js.map