(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{41:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},58:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},67:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var n=c(4),a=c.n(n),r=c(44),i=c.n(r),s=(c(55),c(18)),o=c(14),l=(c(56),c(3)),j=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"loader",children:[Object(l.jsxs)("div",{className:"sk-cube-grid",children:[Object(l.jsx)("div",{className:"sk-cube sk-cube1"}),Object(l.jsx)("div",{className:"sk-cube sk-cube2"}),Object(l.jsx)("div",{className:"sk-cube sk-cube3"}),Object(l.jsx)("div",{className:"sk-cube sk-cube4"}),Object(l.jsx)("div",{className:"sk-cube sk-cube5"}),Object(l.jsx)("div",{className:"sk-cube sk-cube6"}),Object(l.jsx)("div",{className:"sk-cube sk-cube7"}),Object(l.jsx)("div",{className:"sk-cube sk-cube8"}),Object(l.jsx)("div",{className:"sk-cube sk-cube9"})]}),Object(l.jsx)("h2",{id:"TextoLoader",children:"Loading..."})]})})},d=c(13),b=(c(58),function(e){var t=e.product;return Object(l.jsx)(d.b,{to:"/detail/".concat(t.id),className:"cardTitle",children:Object(l.jsxs)("div",{className:"cardContainer",children:[Object(l.jsx)("img",{src:t.img,className:"cardImg",alt:t.name}),Object(l.jsx)("p",{children:t.name})]})})}),u=(c(63),function(e){var t=e.products,c=void 0===t?[]:t;return Object(l.jsx)("div",{className:"cardsContainer",children:c.map((function(e){return Object(l.jsx)(b,{product:e},e.id)}))})}),m=c(7),h=Object(n.createContext)(),O=function(e){var t=e.children,c=Object(n.useState)(!1),a=Object(o.a)(c,2),r=a[0],i=a[1];return Object(l.jsx)(h.Provider,{value:{loading:r,setLoading:i},children:t})},x=c(32),p=(c(38),x.a.initializeApp({apiKey:"AIzaSyBIS3E-2eH4WjjnrchjAk-y8h7vpJ4rrHI",authDomain:"skate-planet.firebaseapp.com",projectId:"skate-planet",storageBucket:"skate-planet.appspot.com",messagingSenderId:"1079654947213",appId:"1:1079654947213:web:6c30985f099cb61a1e05c4"})),f=function(){return x.a.firestore(p)},g=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useContext)(h),i=r.loading,d=r.setLoading,b=Object(m.h)().categoryId;return Object(n.useEffect)((function(){d(!0);var e=f();(b?e.collection("Productos").where("category","==",b):e.collection("Productos")).get().then((function(e){var t=e.docs.map((function(e){return Object(s.a)({id:e.id},e.data())}));a(t)})).catch((function(e){return console.log(e)})).finally((function(){d(!1)}))}),[b,d]),Object(l.jsx)("section",{children:i?Object(l.jsx)(j,{}):Object(l.jsx)(u,{products:c})})},v=(c(41),c.p+"static/media/pageLogo.f5b531be.png"),N=c(50),y=Object(n.createContext)(),k=JSON.parse(localStorage.getItem("carrito"))||[],C=function(e){var t=e.children,c=Object(n.useState)(k),a=Object(o.a)(c,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){localStorage.setItem("carrito",JSON.stringify(r))}),[r]),Object(l.jsx)(y.Provider,{value:{carrito:r,addToCart:function(e){i([].concat(Object(N.a)(r),[e]))},removeItem:function(e){var t=r.filter((function(t){return t.id!==e}));i(t)},calcularCantidad:function(){return r.reduce((function(e,t){return e+t.quantity}),0)},isInCart:function(e){return r.some((function(t){return t.id===e}))},vaciarCarrito:function(){i([])},calcularTotal:function(){return r.reduce((function(e,t){return e+t.quantity*t.price}),0)}},children:t})},I=function(){var e=Object(n.useContext)(y).calcularCantidad;return Object(l.jsxs)("div",{id:"cartWidget",style:{visibility:0===e()?"hidden":"visible"},children:[Object(l.jsx)("span",{className:"material-icons",children:"shopping_cart"}),Object(l.jsx)("span",{children:e()})]})},S=c(47),T=c(27),F=c(34),q=[{title:"Home",path:"/",icon:Object(l.jsx)(T.a,{}),cName:"nav-text"},{title:"Boards",path:"/boards",icon:Object(l.jsx)(F.b,{}),cName:"nav-text"},{title:"Apparel",path:"/apparel",icon:Object(l.jsx)(F.a,{}),cName:"nav-text"}],B=(c(64),function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],r=function(){a(!c)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"sideBar",children:Object(l.jsx)(d.b,{to:"#",className:"menu-bars",children:Object(l.jsx)(S.a,{onClick:r})})}),Object(l.jsx)("nav",{className:c?"nav-menu active":"nav-menu",children:Object(l.jsxs)("ul",{className:"nav-menu-items",onClick:r,children:[Object(l.jsx)("li",{className:"navBar-toggle",children:Object(l.jsx)(d.b,{to:"#",className:"menu-x",children:Object(l.jsx)(T.b,{})})}),q.map((function(e,t){return Object(l.jsx)("li",{className:e.cName,children:Object(l.jsxs)(d.b,{to:e.path,children:[e.icon,Object(l.jsx)("span",{children:e.title})]})},t)}))]})})]})}),w=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("nav",{className:"navBar",children:[Object(l.jsx)(B,{className:!0}),Object(l.jsx)(d.b,{to:"/",children:Object(l.jsx)("img",{src:v,alt:"Brand Logo",className:"navbar--img"})}),Object(l.jsx)(d.b,{to:"/products/cart",children:Object(l.jsx)(I,{})})]}),Object(l.jsx)("hr",{className:"hr"})]})},P=function(e){var t=e.quantity,c=e.modifyQuantity,n=e.maxStock;return Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(){t>0&&c(t-1)},className:"btn ".concat(0===t?"btn-danger desactivado":"btn-primary"),children:"-"}),Object(l.jsx)("span",{className:"m-2",children:t}),Object(l.jsx)("button",{onClick:function(){t<n&&c(t+1)},className:"btn ".concat(t===n?"btn-danger desactivado":"btn-primary"),children:"+"})]})},L=(c(65),function(e){var t=e.id,c=e.name,a=e.description1,r=e.description2,i=e.description3,s=e.description4,j=e.description5,b=e.price,u=e.img,h=e.category,O=e.stock,x=Object(m.g)(),p=x.goBack,f=x.push,g=Object(n.useContext)(y),v=g.addToCart,N=g.isInCart,k=Object(n.useState)(0),C=Object(o.a)(k,2),I=C[0],S=C[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"row productDetailContainer",children:[Object(l.jsx)("div",{className:"productImageDetail col-sm-12 col-md-6",children:Object(l.jsx)("img",{src:u,alt:c})}),Object(l.jsxs)("div",{className:"productDetails col-sm-12 col-md-6",children:[Object(l.jsx)("h2",{className:"name",children:c}),Object(l.jsxs)("h4",{className:"price",children:["$ ",b,".00"]}),Object(l.jsxs)("ul",{className:"descriptions",children:[a?Object(l.jsx)("li",{children:a}):"There are not descriptions added yet",r?Object(l.jsx)("li",{children:r}):"",i?Object(l.jsx)("li",{children:i}):"",s?Object(l.jsx)("li",{children:s}):"",j?Object(l.jsx)("li",{children:j}):""]}),N(t)?Object(l.jsx)(d.b,{to:"/products/cart",className:"btn btn-success",children:"Finish Shopping"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(P,{quantity:I,modifyQuantity:S,maxStock:O}),Object(l.jsx)("button",{className:"mt-3 btn ".concat(0===I?"btn-danger desactivado":"btn-primary"),onClick:function(){I>0&&v({id:t,name:c,price:b,category:h,quantity:I,img:u})},children:"Add!"})]}),Object(l.jsx)("hr",{}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return p()},children:"Go Back"}),Object(l.jsx)("button",{className:"btn btn-primary backButton",onClick:function(){return f("/")},children:"Back to Start"})]})]})})}),E=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useContext)(h),i=r.loading,d=r.setLoading,b=Object(m.h)().productId;return Object(n.useEffect)((function(){d(!0),f().collection("Productos").doc(b).get().then((function(e){a(Object(s.a)({id:e.id},e.data()))})).catch((function(e){return console.log(e)})).finally((function(){d(!1)}))}),[b,d]),Object(l.jsx)("div",{className:"container mt-5",children:i?Object(l.jsx)(j,{}):Object(l.jsx)(L,Object(s.a)({},c))})},D=(c(66),c(48)),A=(c(67),function(){var e=Object(n.useContext)(y),t=e.carrito,c=e.vaciarCarrito,a=e.removeItem,r=e.calcularTotal;return Object(l.jsx)("div",{className:"container my-5",children:0===t.length?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(m.a,{to:"/"})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Cart"}),Object(l.jsx)("hr",{}),t.map((function(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"row productInCartContainer",children:[Object(l.jsx)("img",{className:"img col-1",src:e.img,alt:e.name}),Object(l.jsx)("h4",{className:"col-4",children:e.name}),Object(l.jsxs)("p",{className:"col-2",children:["Quantity: ",e.quantity]}),Object(l.jsxs)("p",{className:"col-2",children:["Price: ",e.price*e.quantity]}),Object(l.jsx)("button",{className:"btn btn-danger col-2",onClick:function(){return a(e.id)},children:Object(l.jsx)(D.a,{})})]}),Object(l.jsx)("hr",{})]})})),Object(l.jsxs)("h2",{className:"total",children:["Total: $",r()]}),Object(l.jsxs)("div",{className:"eraseAndCheckoutButtons",children:[Object(l.jsx)("button",{className:"btn btn-danger my-2",onClick:c,children:"Empty Cart"}),Object(l.jsx)(d.b,{to:"/products/checkout",className:"btn btn-success mx-3",children:"Go to checkout!"})]})]})})}),J=c(25),Y=c(21),H=c.n(Y),Q=c(35),z=c.n(Q),G=c(49),W=c(36),$=function(){var e=Object(n.useContext)(h),t=e.loading,c=e.setLoading,a=Object(n.useContext)(y),r=a.carrito,i=a.calcularTotal,d=a.vaciarCarrito,b=Object(n.useState)({nombre:"",apellido:"",email:"",telefono:""}),u=Object(o.a)(b,2),O=u[0],x=u[1],p=function(e){x(Object(s.a)(Object(s.a)({},O),{},Object(J.a)({},e.target.name,e.target.value)))};return Object(l.jsxs)(l.Fragment,{children:[0===r.length&&Object(l.jsx)(m.a,{to:"/"}),t&&Object(l.jsx)(j,{}),Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"container my-5",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O.nombre.length<1?H.a.fire({icon:"error",title:"Invalid name",text:"You have not registered your name correctly"}):O.apellido.length<1?H.a.fire({icon:"error",title:"Invalid last name",text:"You have not registered your last name correctly"}):O.email.length<1?H.a.fire({icon:"error",title:"Invalid E-mail",text:"You have not registered an E-mail correctly"}):O.telefono.length<1?H.a.fire({icon:"error",title:"Invalid Telephone",text:"You have not registered a phone correctly"}):(c(!0),function(e,t,c){return new Promise(function(){var n=Object(G.a)(z.a.mark((function n(a,r){var i,o,l,j,d,b,u;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={buyer:e,items:t.map((function(e){return{id:e.id,name:e.name,price:e.price,quantity:e.quantity}})),total:c,date:W.a.firestore.Timestamp.fromDate(new Date)},o=f(),l=o.collection("orders"),j=o.collection("Productos").where(W.a.firestore.FieldPath.documentId(),"in",t.map((function(e){return e.id}))),n.next=6,j.get();case 6:d=n.sent,b=o.batch(),u=[],d.docs.forEach((function(e){var c=t.find((function(t){return t.id===e.id}));e.data().stock>=c.quantity?b.update(e.ref,{stock:e.data().stock-c.quantity}):u.push(Object(s.a)(Object(s.a)({},e.data()),{},{id:e.id}))})),0===u.length?l.add(i).then((function(e){b.commit(),a(e.id)})):r(u);case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}(O,r,i()).then((function(e){H.a.fire({icon:"success",title:"Registered order",text:"Voucher: ".concat(e),willClose:function(){d()}})})).catch((function(e){H.a.fire({icon:"error",title:"Products without stock",text:"There isn't stock of: ".concat(e.map((function(e){return e.name})).join(", "))})})).finally((function(){c(!1)})))},autocomplete:"off",children:[Object(l.jsx)("h3",{children:"Personal information"}),Object(l.jsx)("input",{className:"form-control my-2",type:"text",placeholder:"Name",name:"nombre",value:O.nombre,onChange:p}),0===O.nombre.length&&Object(l.jsx)("small",{children:"This field is required"}),Object(l.jsx)("input",{className:"form-control my-2",type:"text",placeholder:"Last Name",name:"apellido",value:O.apellido,onChange:p}),0===O.apellido.length&&Object(l.jsx)("small",{children:"This field is required"}),Object(l.jsx)("input",{className:"form-control my-2",type:"tel",placeholder:"Telephone",name:"telefono",value:O.telefono,onChange:p}),0===O.telefono.length&&Object(l.jsx)("small",{children:"This field is required"}),Object(l.jsx)("input",{className:"form-control my-2",type:"email",placeholder:"Email",name:"email",value:O.email,onChange:p}),0===O.email.length&&Object(l.jsx)("small",{children:"This field is required"}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{className:"btn btn-success",type:"submit",disabled:t,children:"Checkout!"})]})})})]})};var K=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(O,{children:Object(l.jsx)(C,{children:Object(l.jsxs)(d.a,{children:[Object(l.jsx)(w,{}),Object(l.jsxs)(m.d,{children:[Object(l.jsx)(m.b,{exact:!0,path:"/",children:Object(l.jsx)(g,{})}),Object(l.jsx)(m.b,{exact:!0,path:"/:categoryId",children:Object(l.jsx)(g,{})}),Object(l.jsx)(m.b,{exact:!0,path:"/detail/:productId",children:Object(l.jsx)(E,{})}),Object(l.jsx)(m.b,{exact:!0,path:"/products/cart",children:Object(l.jsx)(A,{})}),Object(l.jsx)(m.b,{exact:!0,path:"/products/checkout",children:Object(l.jsx)($,{})}),Object(l.jsx)(m.b,{children:Object(l.jsx)(m.a,{to:"/"})}),Object(l.jsx)(m.b,{path:"*",children:Object(l.jsx)(m.a,{to:"/products"})})]})]})})})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,85)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(K,{})}),document.getElementById("root")),M()}},[[84,1,2]]]);
//# sourceMappingURL=main.8c532e22.chunk.js.map